{"version":3,"file":"index.es.js","sources":["../src/WriteMarkdown.mjs","../src/writer_markdown.mjs","../src/index.mjs"],"sourcesContent":["import * as fs from \"fs-extra\";\r\nimport * as prettier from \"prettier\";\r\n\r\nexport default class WriterMarkdown {\r\n    onAppend;\r\n    source = \"\";\r\n    hasToC = false;\r\n    toc = [];\r\n\r\n    constructor(options) {\r\n        this.options={ parser: \"markdown\", printWidth: 80 };\r\n        this.options = {...this.options,onAppend:options.onAppend}\r\n        this.onAppend = options.onAppend;\r\n    }\r\n\r\n    format(raw ) {\r\n        try {\r\n            return prettier.format(raw, this.options);\r\n        } catch (error) {\r\n            process.stderr.write(error + \"\\n\");\r\n            return raw;\r\n        }\r\n    }\r\n\r\n    async write(filePath, raw) {\r\n        try {\r\n            await fs.ensureFile(filePath);\r\n            await fs.writeFile(filePath, this.format(raw));\r\n        } catch (error) {\r\n            process.stderr.write(error + \"\\n\");\r\n        }\r\n    }\r\n\r\n    appendLineBreaks() {\r\n        this.source += \"\\n\\n\";\r\n        return this;\r\n    }\r\n\r\n    append(type, raw) {\r\n        switch (type) {\r\n            case \"h1\":\r\n            case \"h2\":\r\n            case \"h3\":\r\n            case \"h4\":\r\n            case \"h5\":\r\n            case \"h6\":\r\n                const length = Number(type.slice(-1));\r\n                this.source += `${Array.from({ length })\r\n                    .map((_) => \"#\")\r\n                    .join(\"\")} ${raw}`;\r\n\r\n                if (this.hasToC && type === \"h2\") {\r\n                    this.toc.push({\r\n                        array: Array.from({ length: (length - 1) * 2 }),\r\n                        raw,\r\n                    });\r\n                }\r\n                break;\r\n            case \"quote\":\r\n                this.source += `> ${raw}`;\r\n                break;\r\n            case \"p\":\r\n                this.source += raw;\r\n                break;\r\n            case \"divider\":\r\n                this.source += \"---\";\r\n                break;\r\n            case \"raw\":\r\n                this.source += raw;\r\n                break;\r\n        }\r\n\r\n        if (type !== \"raw\") this.appendLineBreaks();\r\n        //this.onAppend.call(this, type, this);\r\n        return this;\r\n    }\r\n\r\n    tableOfContents() {\r\n        this.source += \"<!-- __TOC__ -->\";\r\n        this.hasToC = true;\r\n        this.appendLineBreaks();\r\n        return this;\r\n    }\r\n\r\n    end() {\r\n        this.source = this.source.replace(\r\n            \"<!-- __TOC__ -->\",\r\n            this.toc\r\n                .map(({ array, raw }) => {\r\n                    return `${array.join(\" \")} - [${raw}](#${raw.toLowerCase().replace(/\\`/g, \"\").replace(/\\s+/g, \"-\")})`;\r\n                })\r\n                .join(\"\\n\")\r\n        );\r\n\r\n        return this.source;\r\n    }\r\n}\r\n","import * as path from \"path\";\r\nimport WriterMarkdown from \"./WriteMarkdown.mjs\";\r\n//import { formatTsProps, getTypeDefs } from \"./writer-definitions\";\r\n\r\nconst PROP_TABLE_HEADER = `| Prop name | Kind | Reactive | Type | Default value | Description |\\n| :--- | :--- | :--- | :--- | :--- | :--- |\\n`;\r\nconst SLOT_TABLE_HEADER = `| Slot name | Default | Props | Fallback |\\n| :--- | :--- | :--- | :--- |\\n`;\r\nconst EVENT_TABLE_HEADER = `| Event name | Type | Detail |\\n| :--- | :--- | :--- |\\n`;\r\nconst MD_TYPE_UNDEFINED = \"--\";\r\n\r\nfunction formatPropType(type) {\r\n    if (type === undefined) return MD_TYPE_UNDEFINED;\r\n    type = type.replace(/[\\n]/gm, \" \");\r\n    type = type.replace(/[\\r]/gm, \" \");\r\n    return `<code>${type.replace(/\\|/g, \"&#124;\")}</code>`;\r\n}\r\n\r\nfunction escapeHtml(text) {\r\n    return text.replace(/\\</g, \"&lt;\").replace(/\\>/g, \"&gt;\");\r\n}\r\n\r\nfunction formatPropValue(prop) {\r\n    let value = prop.value;\r\n    if (value === undefined) return MD_TYPE_UNDEFINED;\r\n    if (prop.kind == 'function') return `<code></code>`;\r\n    value = value.replace(/[\\n]/gm, \" \");\r\n    value = value.replace(/[\\r]/gm, \" \");\r\n    return `<code>${value.replace(/`/g, \"\\\\`\").replace(/\\|/g, \"&#124;\")}</code>`;\r\n}\r\n\r\nfunction formatPropDescription(description) {\r\n    if (description === undefined || description.trim().length === 0) return MD_TYPE_UNDEFINED;\r\n    return escapeHtml(description).replace(/\\n/g, \"<br />\");\r\n}\r\n\r\nfunction formatSlotProps(props) {\r\n    if (props === undefined || props === \"{}\") return MD_TYPE_UNDEFINED;\r\n    return formatPropType(props.replace(/\\n/g, \" \"));\r\n}\r\n\r\nfunction formatSlotFallback(fallback) {\r\n    if (fallback === undefined) return MD_TYPE_UNDEFINED;\r\n    return formatPropType(escapeHtml(fallback).replace(/\\s/g, \" \"));\r\n}\r\n\r\nfunction formatEventDetail(detail) {\r\n    if (detail === undefined) return MD_TYPE_UNDEFINED;\r\n    return formatPropType(detail.replace(/\\n/g, \" \"));\r\n}\r\n\r\nfunction getTypeDefs(def) {\r\n    if (def.typedefs.length === 0) return \"\";\r\n    return def.typedefs.map((typedef) => `export ${typedef.ts}`).join(\"\\n\\n\");\r\n}\r\n\r\nfunction getEventsFromDoc(componentDoc){\r\n    let allevents = [];\r\n    componentDoc.forEach((el)=>{\r\n        el.tags.forEach((el1)=>{\r\n            if(el1.tag=='event'){\r\n                el.name = el1.name;\r\n                el.detail = el.description;\r\n                el.type='dispatched';\r\n                allevents.push(el);\r\n            }\r\n        });\r\n    });\r\n    return allevents;\r\n}\r\n\r\n\r\nexport default function writeMarkdown(components,componentDoc, options) {\r\n    const output_path = path.join(process.cwd(), options.outFile);\r\n    const document = new WriterMarkdown({\r\n        onAppend: (type, document) => {\r\n            options.onAppend.call(null, type, document, components);\r\n        },\r\n    });\r\n    const component = components.components[0];\r\n\r\n    if (component.typedefs.length > 0) {\r\n        document.append(\"h3\", \"Types\").append(\r\n            \"raw\",\r\n            `\\`\\`\\`ts\\n${getTypeDefs({\r\n                typedefs: component.typedefs,\r\n            })}\\n\\`\\`\\`\\n\\n`\r\n        );\r\n    }\r\n\r\n    document.append(\"h3\", \"Props\");\r\n    if (component.props.length > 0) {\r\n        document.append(\"raw\", PROP_TABLE_HEADER);\r\n        [...component.props]\r\n            .sort((a) => {\r\n                if (a.reactive) return -1;\r\n                if (a.constant) return 1;\r\n                return 0;\r\n            })\r\n            .forEach((prop) => {\r\n                document.append(\r\n                    \"raw\",\r\n                    `| ${prop.name} | ${`<code>${prop.kind}</code>`} | ${prop.reactive ? \"Yes\" : \"No\"} | ${formatPropType(\r\n                        prop.type\r\n                    )} | ${formatPropValue(prop)} | ${formatPropDescription(prop.description)} |\\n`\r\n                );\r\n            });\r\n    } else {\r\n        document.append(\"p\", \"None.\");\r\n    }\r\n\r\n    document.append(\"h3\", \"Slots\");\r\n    if (component.slots.length > 0) {\r\n        document.append(\"raw\", SLOT_TABLE_HEADER);\r\n        component.slots.forEach((slot) => {\r\n            document.append(\r\n                \"raw\",\r\n                `| ${slot.default ? MD_TYPE_UNDEFINED : slot.name} | ${slot.default ? \"Yes\" : \"No\"} | ${formatSlotProps(\r\n                    slot.slot_props\r\n                )} | ${formatSlotFallback(slot.fallback)} |\\n`\r\n            );\r\n        });\r\n    } else {\r\n        document.append(\"p\", \"None.\");\r\n    }\r\n\r\n\r\n    let eventsfromdoc = getEventsFromDoc(componentDoc);\r\n    document.append(\"h3\", \"Events\");\r\n\r\n    if (false && component.events.length > 0 ) {\r\n        document.append(\"raw\", EVENT_TABLE_HEADER);\r\n\r\n        component.events && component.events.forEach((event) => {\r\n            document.append(\r\n                \"raw\",\r\n                `| ${event.name} | ${event.type} | ${\r\n                    event.type === \"dispatched\" ? formatEventDetail(event.detail) : MD_TYPE_UNDEFINED\r\n                } |\\n`\r\n            );\r\n        });\r\n\r\n        component.events && component.events.forEach((event) => {\r\n            document.append(\r\n                \"raw\",\r\n                `| ${event.name} | ${event.type} | ${\r\n                    event.type === \"dispatched\" ? formatEventDetail(event.detail) : MD_TYPE_UNDEFINED\r\n                } |\\n`\r\n            );\r\n        });\r\n\r\n    } else if ( eventsfromdoc.length > 0) {\r\n        document.append(\"raw\", EVENT_TABLE_HEADER);\r\n        eventsfromdoc.forEach((event) => {\r\n            document.append(\r\n                \"raw\",\r\n                `| ${event.name} | ${event.type} | ${\r\n                    event.type === \"dispatched\" ? formatEventDetail(event.detail) : MD_TYPE_UNDEFINED\r\n                } |\\n`\r\n            );\r\n        });\r\n\r\n\r\n\r\n    } else {\r\n        document.append(\"p\", \"None.\");\r\n    }\r\n\r\n\r\n    return document.source;\r\n    process.stdout.write(`created \"${options.outFile}\".\\n`);\r\n}\r\n\r\n","import * as fs from \"fs\";\r\nimport * as path from \"path\";\r\nimport writeMarkdown from \"./writer_markdown.mjs\";\r\nimport sveld from \"sveld\";\r\n\r\nconst {parse} = require('comment-parser')\r\n\r\nconst jsonfilename = \"COMPONENT_API.json\";\r\nconst mdfilename = \"README.md\";\r\nconst packagejsonfile = \"package.json\";\r\n\r\n\r\nexport default function mdDocumentation() {\r\n    let sv = sveld({markdown: true, json: true});\r\n    if (!process.env.MAKE_DOC){\r\n        return [];\r\n    } else {\r\n    return [\r\n        sv,\r\n        {\r\n            name: 'md-documentation', // this name will show up in warnings and errors\r\n            buildEnd(source) {\r\n                let jsonres = loadJsonFile(jsonfilename);\r\n                if (!jsonres) return;\r\n                let packagejson = loadJsonFile(packagejsonfile);\r\n                let outputapifilename = packagejson.name.replace(\"@fds-components/\", \"\");\r\n                let mdres = loadMdFile();\r\n                let componentEntry = getComponentEntry(packagejson);\r\n                let componentDoc;\r\n                //componentDoc = jsonres.components[0].jsdoc;\r\n                componentDoc = parse(componentEntry);\r\n                let appendmd = writeMarkdown(jsonres, componentDoc, {outFile: mdfilename});\r\n                let resstring = addResult(mdres, appendmd);\r\n                saveMdFile(resstring);\r\n                saveJsonFile(jsonres, componentDoc, outputapifilename);\r\n                console.log(\"module is working!!!\", resstring);\r\n                return null; // other ids should be handled as usually\r\n            },\r\n        }];\r\n    }\r\n    function addResult(mdres, jsonres) {\r\n        const regex = /(\\[\\/\\/\\]: # \\\"Autogeneratedstart\\\")([\\s\\S]+)(\\[\\/\\/\\]: # \\\"Autogeneratedstop\\\")/mg;\r\n        mdres = mdres.replace(regex, \"$1\" + \"\\n\" + jsonres + \"\\n\" + \"$3\");\r\n        return mdres;\r\n    }\r\n\r\n    function loadJsonFile(name) {\r\n        const datafile = path.join(process.cwd(), name);\r\n        if (fs.existsSync(datafile)) {\r\n            const parsed = JSON.parse(fs.readFileSync(datafile, \"utf-8\"));\r\n            return parsed;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    function loadMdFile() {\r\n        const datafile = path.join(process.cwd(), mdfilename);\r\n        if (fs.existsSync(datafile)) {\r\n            const parsed = fs.readFileSync(datafile, \"utf-8\");\r\n            return parsed;\r\n        }\r\n    }\r\n\r\n    function saveMdFile(data) {\r\n        const datafile = path.join(process.cwd(), mdfilename);\r\n        if (fs.existsSync(datafile)) {\r\n            fs.writeFileSync(datafile, data, \"utf-8\");\r\n        }\r\n    }\r\n\r\n    function saveJsonFile(data, componentEntry, outputapifilename) {\r\n        if (componentEntry) {\r\n            data = data.components[0];\r\n            data.jsdoc = componentEntry;\r\n            data.componentname = outputapifilename;\r\n        }\r\n        outputapifilename = \"api-\" + outputapifilename + \".json\";\r\n        const datafile = path.join(process.cwd(), outputapifilename);\r\n        //if (fs.existsSync(datafile)) {\r\n        fs.writeFileSync(datafile, JSON.stringify(data, null, 2), \"utf-8\");\r\n        //}\r\n    }\r\n\r\n\r\n    function getComponentEntry(packagejson) {\r\n        if (packagejson.componentFile === undefined || !packagejson.componentFile) {\r\n            packagejson = {componentFile: 'src/App.svelte'}\r\n        }\r\n        const datafile = path.join(process.cwd(), packagejson.componentFile);\r\n        if (fs.existsSync(datafile)) {\r\n            const parsed = fs.readFileSync(datafile, \"utf-8\");\r\n            return parsed;\r\n        } else {\r\n            process.stdout.write(\"Could not load component file.\\n\", datafile);\r\n        }\r\n\r\n        process.stdout.write(\"Could not determine an entrypoint.\\n\");\r\n        process.stdout.write('Specify an entrypoint to your Svelte code in the \"svelte\" field of your package.json.\\n');\r\n        return null;\r\n\r\n    }\r\n\r\n}\r\n\r\n//mdDocumentation()[0].buildEnd()"],"names":["fs"],"mappings":";;;;;;AAGe,MAAM,cAAc,CAAC;AACpC,IAAI,QAAQ,CAAC;AACb,IAAI,MAAM,GAAG,EAAE,CAAC;AAChB,IAAI,MAAM,GAAG,KAAK,CAAC;AACnB,IAAI,GAAG,GAAG,EAAE,CAAC;AACb;AACA,IAAI,WAAW,CAAC,OAAO,EAAE;AACzB,QAAQ,IAAI,CAAC,OAAO,CAAC,EAAE,MAAM,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE,EAAE,CAAC;AAC5D,QAAQ,IAAI,CAAC,OAAO,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,EAAC;AAClE,QAAQ,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC;AACzC,KAAK;AACL;AACA,IAAI,MAAM,CAAC,GAAG,GAAG;AACjB,QAAQ,IAAI;AACZ,YAAY,OAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;AACtD,SAAS,CAAC,OAAO,KAAK,EAAE;AACxB,YAAY,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC;AAC/C,YAAY,OAAO,GAAG,CAAC;AACvB,SAAS;AACT,KAAK;AACL;AACA,IAAI,MAAM,KAAK,CAAC,QAAQ,EAAE,GAAG,EAAE;AAC/B,QAAQ,IAAI;AACZ,YAAY,MAAM,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;AAC1C,YAAY,MAAM,EAAE,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;AAC3D,SAAS,CAAC,OAAO,KAAK,EAAE;AACxB,YAAY,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC;AAC/C,SAAS;AACT,KAAK;AACL;AACA,IAAI,gBAAgB,GAAG;AACvB,QAAQ,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC;AAC9B,QAAQ,OAAO,IAAI,CAAC;AACpB,KAAK;AACL;AACA,IAAI,MAAM,CAAC,IAAI,EAAE,GAAG,EAAE;AACtB,QAAQ,QAAQ,IAAI;AACpB,YAAY,KAAK,IAAI,CAAC;AACtB,YAAY,KAAK,IAAI,CAAC;AACtB,YAAY,KAAK,IAAI,CAAC;AACtB,YAAY,KAAK,IAAI,CAAC;AACtB,YAAY,KAAK,IAAI,CAAC;AACtB,YAAY,KAAK,IAAI;AACrB,gBAAgB,MAAM,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACtD,gBAAgB,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,CAAC;AACxD,qBAAqB,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC;AACpC,qBAAqB,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;AACvC;AACA,gBAAgB,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,KAAK,IAAI,EAAE;AAClD,oBAAoB,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC;AAClC,wBAAwB,KAAK,EAAE,KAAK,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC;AACvE,wBAAwB,GAAG;AAC3B,qBAAqB,CAAC,CAAC;AACvB,iBAAiB;AACjB,gBAAgB,MAAM;AACtB,YAAY,KAAK,OAAO;AACxB,gBAAgB,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;AAC1C,gBAAgB,MAAM;AACtB,YAAY,KAAK,GAAG;AACpB,gBAAgB,IAAI,CAAC,MAAM,IAAI,GAAG,CAAC;AACnC,gBAAgB,MAAM;AACtB,YAAY,KAAK,SAAS;AAC1B,gBAAgB,IAAI,CAAC,MAAM,IAAI,KAAK,CAAC;AACrC,gBAAgB,MAAM;AACtB,YAAY,KAAK,KAAK;AACtB,gBAAgB,IAAI,CAAC,MAAM,IAAI,GAAG,CAAC;AACnC,gBAAgB,MAAM;AACtB,SAAS;AACT;AACA,QAAQ,IAAI,IAAI,KAAK,KAAK,EAAE,IAAI,CAAC,gBAAgB,EAAE,CAAC;AACpD;AACA,QAAQ,OAAO,IAAI,CAAC;AACpB,KAAK;AACL;AACA,IAAI,eAAe,GAAG;AACtB,QAAQ,IAAI,CAAC,MAAM,IAAI,kBAAkB,CAAC;AAC1C,QAAQ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;AAC3B,QAAQ,IAAI,CAAC,gBAAgB,EAAE,CAAC;AAChC,QAAQ,OAAO,IAAI,CAAC;AACpB,KAAK;AACL;AACA,IAAI,GAAG,GAAG;AACV,QAAQ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO;AACzC,YAAY,kBAAkB;AAC9B,YAAY,IAAI,CAAC,GAAG;AACpB,iBAAiB,GAAG,CAAC,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK;AACzC,oBAAoB,OAAO,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1H,iBAAiB,CAAC;AAClB,iBAAiB,IAAI,CAAC,IAAI,CAAC;AAC3B,SAAS,CAAC;AACV;AACA,QAAQ,OAAO,IAAI,CAAC,MAAM,CAAC;AAC3B,KAAK;AACL;;AC9FA;AACA;AACA,MAAM,iBAAiB,GAAG,CAAC,mHAAmH,CAAC,CAAC;AAChJ,MAAM,iBAAiB,GAAG,CAAC,2EAA2E,CAAC,CAAC;AACxG,MAAM,kBAAkB,GAAG,CAAC,wDAAwD,CAAC,CAAC;AACtF,MAAM,iBAAiB,GAAG,IAAI,CAAC;AAC/B;AACA,SAAS,cAAc,CAAC,IAAI,EAAE;AAC9B,IAAI,IAAI,IAAI,KAAK,SAAS,EAAE,OAAO,iBAAiB,CAAC;AACrD,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;AACvC,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;AACvC,IAAI,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;AAC3D,CAAC;AACD;AACA,SAAS,UAAU,CAAC,IAAI,EAAE;AAC1B,IAAI,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;AAC9D,CAAC;AACD;AACA,SAAS,eAAe,CAAC,IAAI,EAAE;AAC/B,IAAI,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;AAC3B,IAAI,IAAI,KAAK,KAAK,SAAS,EAAE,OAAO,iBAAiB,CAAC;AACtD,IAAI,IAAI,IAAI,CAAC,IAAI,IAAI,UAAU,EAAE,OAAO,CAAC,aAAa,CAAC,CAAC;AACxD,IAAI,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;AACzC,IAAI,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;AACzC,IAAI,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;AACjF,CAAC;AACD;AACA,SAAS,qBAAqB,CAAC,WAAW,EAAE;AAC5C,IAAI,IAAI,WAAW,KAAK,SAAS,IAAI,WAAW,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE,OAAO,iBAAiB,CAAC;AAC/F,IAAI,OAAO,UAAU,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;AAC5D,CAAC;AACD;AACA,SAAS,eAAe,CAAC,KAAK,EAAE;AAChC,IAAI,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,IAAI,EAAE,OAAO,iBAAiB,CAAC;AACxE,IAAI,OAAO,cAAc,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC;AACrD,CAAC;AACD;AACA,SAAS,kBAAkB,CAAC,QAAQ,EAAE;AACtC,IAAI,IAAI,QAAQ,KAAK,SAAS,EAAE,OAAO,iBAAiB,CAAC;AACzD,IAAI,OAAO,cAAc,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC;AACpE,CAAC;AACD;AACA,SAAS,iBAAiB,CAAC,MAAM,EAAE;AACnC,IAAI,IAAI,MAAM,KAAK,SAAS,EAAE,OAAO,iBAAiB,CAAC;AACvD,IAAI,OAAO,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC;AACtD,CAAC;AACD;AACA,SAAS,WAAW,CAAC,GAAG,EAAE;AAC1B,IAAI,IAAI,GAAG,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE,OAAO,EAAE,CAAC;AAC7C,IAAI,OAAO,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,OAAO,KAAK,CAAC,OAAO,EAAE,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAC9E,CAAC;AACD;AACA,SAAS,gBAAgB,CAAC,YAAY,CAAC;AACvC,IAAI,IAAI,SAAS,GAAG,EAAE,CAAC;AACvB,IAAI,YAAY,CAAC,OAAO,CAAC,CAAC,EAAE,GAAG;AAC/B,QAAQ,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,GAAG;AAC/B,YAAY,GAAG,GAAG,CAAC,GAAG,EAAE,OAAO,CAAC;AAChC,gBAAgB,EAAE,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;AACnC,gBAAgB,EAAE,CAAC,MAAM,GAAG,EAAE,CAAC,WAAW,CAAC;AAC3C,gBAAgB,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC;AACrC,gBAAgB,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AACnC,aAAa;AACb,SAAS,CAAC,CAAC;AACX,KAAK,CAAC,CAAC;AACP,IAAI,OAAO,SAAS,CAAC;AACrB,CAAC;AACD;AACA;AACe,SAAS,aAAa,CAAC,UAAU,CAAC,YAAY,EAAE,OAAO,EAAE;AACxE,IAAwB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,OAAO,CAAC,OAAO,EAAE;AAClE,IAAI,MAAM,QAAQ,GAAG,IAAI,cAAc,CAAC;AACxC,QAAQ,QAAQ,EAAE,CAAC,IAAI,EAAE,QAAQ,KAAK;AACtC,YAAY,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC;AACpE,SAAS;AACT,KAAK,CAAC,CAAC;AACP,IAAI,MAAM,SAAS,GAAG,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AAC/C;AACA,IAAI,IAAI,SAAS,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;AACvC,QAAQ,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,MAAM;AAC7C,YAAY,KAAK;AACjB,YAAY,CAAC,UAAU,EAAE,WAAW,CAAC;AACrC,gBAAgB,QAAQ,EAAE,SAAS,CAAC,QAAQ;AAC5C,aAAa,CAAC,CAAC,YAAY,CAAC;AAC5B,SAAS,CAAC;AACV,KAAK;AACL;AACA,IAAI,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;AACnC,IAAI,IAAI,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;AACpC,QAAQ,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,iBAAiB,CAAC,CAAC;AAClD,QAAQ,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC;AAC5B,aAAa,IAAI,CAAC,CAAC,CAAC,KAAK;AACzB,gBAAgB,IAAI,CAAC,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC;AAC1C,gBAAgB,IAAI,CAAC,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;AACzC,gBAAgB,OAAO,CAAC,CAAC;AACzB,aAAa,CAAC;AACd,aAAa,OAAO,CAAC,CAAC,IAAI,KAAK;AAC/B,gBAAgB,QAAQ,CAAC,MAAM;AAC/B,oBAAoB,KAAK;AACzB,oBAAoB,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC,QAAQ,GAAG,KAAK,GAAG,IAAI,CAAC,GAAG,EAAE,cAAc;AACzH,wBAAwB,IAAI,CAAC,IAAI;AACjC,qBAAqB,CAAC,GAAG,EAAE,eAAe,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,qBAAqB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC;AACnG,iBAAiB,CAAC;AAClB,aAAa,CAAC,CAAC;AACf,KAAK,MAAM;AACX,QAAQ,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;AACtC,KAAK;AACL;AACA,IAAI,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;AACnC,IAAI,IAAI,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;AACpC,QAAQ,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,iBAAiB,CAAC,CAAC;AAClD,QAAQ,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,KAAK;AAC1C,YAAY,QAAQ,CAAC,MAAM;AAC3B,gBAAgB,KAAK;AACrB,gBAAgB,CAAC,EAAE,EAAE,IAAI,CAAC,OAAO,GAAG,iBAAiB,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,OAAO,GAAG,KAAK,GAAG,IAAI,CAAC,GAAG,EAAE,eAAe;AACvH,oBAAoB,IAAI,CAAC,UAAU;AACnC,iBAAiB,CAAC,GAAG,EAAE,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC;AAC9D,aAAa,CAAC;AACd,SAAS,CAAC,CAAC;AACX,KAAK,MAAM;AACX,QAAQ,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;AACtC,KAAK;AACL;AACA;AACA,IAAI,IAAI,aAAa,GAAG,gBAAgB,CAAC,YAAY,CAAC,CAAC;AACvD,IAAI,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;AACpC;AACA,IAqBW,KAAK,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;AAC1C,QAAQ,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,kBAAkB,CAAC,CAAC;AACnD,QAAQ,aAAa,CAAC,OAAO,CAAC,CAAC,KAAK,KAAK;AACzC,YAAY,QAAQ,CAAC,MAAM;AAC3B,gBAAgB,KAAK;AACrB,gBAAgB,CAAC,EAAE,EAAE,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,CAAC,GAAG;AACnD,oBAAoB,KAAK,CAAC,IAAI,KAAK,YAAY,GAAG,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,iBAAiB;AACrG,iBAAiB,IAAI,CAAC;AACtB,aAAa,CAAC;AACd,SAAS,CAAC,CAAC;AACX;AACA;AACA;AACA,KAAK,MAAM;AACX,QAAQ,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;AACtC,KAAK;AACL;AACA;AACA,IAAI,OAAO,QAAQ,CAAC,MAAM,CAAC;AAE3B;;ACpKA,MAAM,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,gBAAgB,EAAC;AACzC;AACA,MAAM,YAAY,GAAG,oBAAoB,CAAC;AAC1C,MAAM,UAAU,GAAG,WAAW,CAAC;AAC/B,MAAM,eAAe,GAAG,cAAc,CAAC;AACvC;AACA;AACe,SAAS,eAAe,GAAG;AAC1C,IAAI,IAAI,EAAE,GAAG,KAAK,CAAC,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;AACjD,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC;AAC9B,QAAQ,OAAO,EAAE,CAAC;AAClB,KAAK,MAAM;AACX,IAAI,OAAO;AACX,QAAQ,EAAE;AACV,QAAQ;AACR,YAAY,IAAI,EAAE,kBAAkB;AACpC,YAAY,QAAQ,CAAC,MAAM,EAAE;AAC7B,gBAAgB,IAAI,OAAO,GAAG,YAAY,CAAC,YAAY,CAAC,CAAC;AACzD,gBAAgB,IAAI,CAAC,OAAO,EAAE,OAAO;AACrC,gBAAgB,IAAI,WAAW,GAAG,YAAY,CAAC,eAAe,CAAC,CAAC;AAChE,gBAAgB,IAAI,iBAAiB,GAAG,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAAC;AACzF,gBAAgB,IAAI,KAAK,GAAG,UAAU,EAAE,CAAC;AACzC,gBAAgB,IAAI,cAAc,GAAG,iBAAiB,CAAC,WAAW,CAAC,CAAC;AACpE,gBAAgB,IAAI,YAAY,CAAC;AACjC;AACA,gBAAgB,YAAY,GAAG,KAAK,CAAC,cAAc,CAAC,CAAC;AACrD,gBAAgB,IAAI,QAAQ,GAAG,aAAa,CAAC,OAAO,EAAE,YAAY,EAAE,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC,CAAC;AAC3F,gBAAgB,IAAI,SAAS,GAAG,SAAS,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;AAC3D,gBAAgB,UAAU,CAAC,SAAS,CAAC,CAAC;AACtC,gBAAgB,YAAY,CAAC,OAAO,EAAE,YAAY,EAAE,iBAAiB,CAAC,CAAC;AACvE,gBAAgB,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,SAAS,CAAC,CAAC;AAC/D,gBAAgB,OAAO,IAAI,CAAC;AAC5B,aAAa;AACb,SAAS,CAAC,CAAC;AACX,KAAK;AACL,IAAI,SAAS,SAAS,CAAC,KAAK,EAAE,OAAO,EAAE;AACvC,QAAQ,MAAM,KAAK,GAAG,oFAAoF,CAAC;AAC3G,QAAQ,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,GAAG,IAAI,GAAG,OAAO,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC;AAC1E,QAAQ,OAAO,KAAK,CAAC;AACrB,KAAK;AACL;AACA,IAAI,SAAS,YAAY,CAAC,IAAI,EAAE;AAChC,QAAQ,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,CAAC;AACxD,QAAQ,IAAIA,IAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE;AACrC,YAAY,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAACA,IAAE,CAAC,YAAY,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC;AAC1E,YAAY,OAAO,MAAM,CAAC;AAC1B,SAAS;AACT,QAAQ,OAAO,KAAK,CAAC;AACrB,KAAK;AACL;AACA,IAAI,SAAS,UAAU,GAAG;AAC1B,QAAQ,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,UAAU,CAAC,CAAC;AAC9D,QAAQ,IAAIA,IAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE;AACrC,YAAY,MAAM,MAAM,GAAGA,IAAE,CAAC,YAAY,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;AAC9D,YAAY,OAAO,MAAM,CAAC;AAC1B,SAAS;AACT,KAAK;AACL;AACA,IAAI,SAAS,UAAU,CAAC,IAAI,EAAE;AAC9B,QAAQ,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,UAAU,CAAC,CAAC;AAC9D,QAAQ,IAAIA,IAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE;AACrC,YAAYA,IAAE,CAAC,aAAa,CAAC,QAAQ,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;AACtD,SAAS;AACT,KAAK;AACL;AACA,IAAI,SAAS,YAAY,CAAC,IAAI,EAAE,cAAc,EAAE,iBAAiB,EAAE;AACnE,QAAQ,IAAI,cAAc,EAAE;AAC5B,YAAY,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AACtC,YAAY,IAAI,CAAC,KAAK,GAAG,cAAc,CAAC;AACxC,YAAY,IAAI,CAAC,aAAa,GAAG,iBAAiB,CAAC;AACnD,SAAS;AACT,QAAQ,iBAAiB,GAAG,MAAM,GAAG,iBAAiB,GAAG,OAAO,CAAC;AACjE,QAAQ,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,iBAAiB,CAAC,CAAC;AACrE;AACA,QAAQA,IAAE,CAAC,aAAa,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;AAC3E;AACA,KAAK;AACL;AACA;AACA,IAAI,SAAS,iBAAiB,CAAC,WAAW,EAAE;AAC5C,QAAQ,IAAI,WAAW,CAAC,aAAa,KAAK,SAAS,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE;AACnF,YAAY,WAAW,GAAG,CAAC,aAAa,EAAE,gBAAgB,EAAC;AAC3D,SAAS;AACT,QAAQ,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,WAAW,CAAC,aAAa,CAAC,CAAC;AAC7E,QAAQ,IAAIA,IAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE;AACrC,YAAY,MAAM,MAAM,GAAGA,IAAE,CAAC,YAAY,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;AAC9D,YAAY,OAAO,MAAM,CAAC;AAC1B,SAAS,MAAM;AACf,YAAY,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,kCAAkC,EAAE,QAAQ,CAAC,CAAC;AAC/E,SAAS;AACT;AACA,QAAQ,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,sCAAsC,CAAC,CAAC;AACrE,QAAQ,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,yFAAyF,CAAC,CAAC;AACxH,QAAQ,OAAO,IAAI,CAAC;AACpB;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;;;;"}